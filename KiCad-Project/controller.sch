EESchema Schematic File Version 4
LIBS:motor-controller-cache
EELAYER 26 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 2 4
Title "1500W (24V, 60A) Motor Drive"
Date "2019-04-26"
Rev ""
Comp "Fabian Gei√üler"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Interface_UART:MAX485E U?
U 1 1 5CEE4F70
P 8100 3100
AR Path="/5CEE4F70" Ref="U?"  Part="1" 
AR Path="/5CEDC1EA/5CEE4F70" Ref="U201"  Part="1" 
F 0 "U201" H 7800 3700 50  0000 C CNN
F 1 "ST3485" H 7800 3600 50  0000 C CNN
F 2 "Package_SO:SOIC-8_3.9x4.9mm_P1.27mm" H 8100 2400 50  0001 C CNN
F 3 "https://www.st.com/content/ccc/resource/technical/document/datasheet/be/f4/e5/fd/b0/df/40/72/CD00003137.pdf/files/CD00003137.pdf/jcr:content/translations/en.CD00003137.pdf" H 8100 3150 50  0001 C CNN
	1    8100 3100
	1    0    0    -1  
$EndComp
Wire Wire Line
	7700 3000 6500 3000
Text Label 4400 3300 2    50   ~ 0
TXD
Text Label 4400 3400 2    50   ~ 0
RXD
Wire Wire Line
	7700 3100 7350 3100
Wire Wire Line
	2800 3300 3050 3300
Text Label 2800 3300 0    50   ~ 0
TX_EN
Wire Wire Line
	8700 3100 8600 3100
Wire Wire Line
	8600 3100 8600 3300
Wire Wire Line
	8600 3300 8500 3300
Wire Wire Line
	8700 3000 8500 3000
$Comp
L Device:R R?
U 1 1 5CEE4F8C
P 6350 1750
AR Path="/5CEE4F8C" Ref="R?"  Part="1" 
AR Path="/5CEDC1EA/5CEE4F8C" Ref="R206"  Part="1" 
F 0 "R206" H 6420 1796 50  0000 L CNN
F 1 "4k7" H 6420 1705 50  0000 L CNN
F 2 "" V 6280 1750 50  0001 C CNN
F 3 "~" H 6350 1750 50  0001 C CNN
	1    6350 1750
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5CEE4F94
P 6350 2250
AR Path="/5CEE4F94" Ref="C?"  Part="1" 
AR Path="/5CEDC1EA/5CEE4F94" Ref="C205"  Part="1" 
F 0 "C205" H 6465 2296 50  0000 L CNN
F 1 "1n" H 6465 2205 50  0000 L CNN
F 2 "" H 6388 2100 50  0001 C CNN
F 3 "~" H 6350 2250 50  0001 C CNN
	1    6350 2250
	1    0    0    -1  
$EndComp
Text Label 4350 2200 0    50   ~ 0
~RESET
Wire Wire Line
	8100 2500 8100 2600
Wire Wire Line
	3650 1900 3650 2000
Wire Wire Line
	6350 1500 6350 1600
$Comp
L power:GND #PWR?
U 1 1 5CEE4FA2
P 7350 3900
AR Path="/5CEE4FA2" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CEE4FA2" Ref="#PWR0205"  Part="1" 
F 0 "#PWR0205" H 7350 3650 50  0001 C CNN
F 1 "GND" H 7355 3727 50  0000 C CNN
F 2 "" H 7350 3900 50  0001 C CNN
F 3 "" H 7350 3900 50  0001 C CNN
	1    7350 3900
	-1   0    0    -1  
$EndComp
Wire Wire Line
	7350 3900 7350 3100
$Comp
L power:GND #PWR?
U 1 1 5CEE4FA9
P 8100 3800
AR Path="/5CEE4FA9" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CEE4FA9" Ref="#PWR0204"  Part="1" 
F 0 "#PWR0204" H 8100 3550 50  0001 C CNN
F 1 "GND" H 8105 3627 50  0000 C CNN
F 2 "" H 8100 3800 50  0001 C CNN
F 3 "" H 8100 3800 50  0001 C CNN
	1    8100 3800
	-1   0    0    -1  
$EndComp
Wire Wire Line
	8100 3800 8100 3700
$Comp
L power:GND #PWR?
U 1 1 5CEE4FB0
P 3650 3900
AR Path="/5CEE4FB0" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CEE4FB0" Ref="#PWR0211"  Part="1" 
F 0 "#PWR0211" H 3650 3650 50  0001 C CNN
F 1 "GND" H 3655 3727 50  0000 C CNN
F 2 "" H 3650 3900 50  0001 C CNN
F 3 "" H 3650 3900 50  0001 C CNN
	1    3650 3900
	1    0    0    -1  
$EndComp
Wire Wire Line
	3650 3900 3650 3800
$Comp
L power:GND #PWR?
U 1 1 5CEE4FB7
P 6350 2500
AR Path="/5CEE4FB7" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CEE4FB7" Ref="#PWR0219"  Part="1" 
F 0 "#PWR0219" H 6350 2250 50  0001 C CNN
F 1 "GND" H 6355 2327 50  0000 C CNN
F 2 "" H 6350 2500 50  0001 C CNN
F 3 "" H 6350 2500 50  0001 C CNN
	1    6350 2500
	1    0    0    -1  
$EndComp
Wire Wire Line
	6350 2500 6350 2400
Text Notes 8400 2550 2    50   ~ 0
1.3mA
$Comp
L power:+3V3 #PWR?
U 1 1 5CEE4FC8
P 3650 1900
AR Path="/5CEE4FC8" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CEE4FC8" Ref="#PWR0210"  Part="1" 
F 0 "#PWR0210" H 3650 1750 50  0001 C CNN
F 1 "+3V3" H 3665 2073 50  0000 C CNN
F 2 "" H 3650 1900 50  0001 C CNN
F 3 "" H 3650 1900 50  0001 C CNN
	1    3650 1900
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR?
U 1 1 5CEE4FCE
P 8100 2500
AR Path="/5CEE4FCE" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CEE4FCE" Ref="#PWR0203"  Part="1" 
F 0 "#PWR0203" H 8100 2350 50  0001 C CNN
F 1 "+3V3" H 8115 2673 50  0000 C CNN
F 2 "" H 8100 2500 50  0001 C CNN
F 3 "" H 8100 2500 50  0001 C CNN
	1    8100 2500
	-1   0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR?
U 1 1 5CEE4FD4
P 6350 1500
AR Path="/5CEE4FD4" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CEE4FD4" Ref="#PWR0218"  Part="1" 
F 0 "#PWR0218" H 6350 1350 50  0001 C CNN
F 1 "+3V3" H 6365 1673 50  0000 C CNN
F 2 "" H 6350 1500 50  0001 C CNN
F 3 "" H 6350 1500 50  0001 C CNN
	1    6350 1500
	1    0    0    -1  
$EndComp
$Comp
L power:+24V #PWR?
U 1 1 5CEE5011
P 5750 5250
AR Path="/5CEE5011" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CEE5011" Ref="#PWR0212"  Part="1" 
F 0 "#PWR0212" H 5750 5100 50  0001 C CNN
F 1 "+24V" H 5765 5423 50  0000 C CNN
F 2 "" H 5750 5250 50  0001 C CNN
F 3 "" H 5750 5250 50  0001 C CNN
	1    5750 5250
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5CEE5017
P 5750 5500
AR Path="/5CEE5017" Ref="R?"  Part="1" 
AR Path="/5CEDC1EA/5CEE5017" Ref="R202"  Part="1" 
F 0 "R202" H 5820 5546 50  0000 L CNN
F 1 "300k" H 5820 5455 50  0000 L CNN
F 2 "" V 5680 5500 50  0001 C CNN
F 3 "~" H 5750 5500 50  0001 C CNN
	1    5750 5500
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5CEE501E
P 5750 6700
AR Path="/5CEE501E" Ref="R?"  Part="1" 
AR Path="/5CEDC1EA/5CEE501E" Ref="R203"  Part="1" 
F 0 "R203" H 5820 6746 50  0000 L CNN
F 1 "11k" H 5820 6655 50  0000 L CNN
F 2 "" V 5680 6700 50  0001 C CNN
F 3 "~" H 5750 6700 50  0001 C CNN
	1    5750 6700
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5CEE5025
P 5750 6950
AR Path="/5CEE5025" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CEE5025" Ref="#PWR0213"  Part="1" 
F 0 "#PWR0213" H 5750 6700 50  0001 C CNN
F 1 "GND" H 5755 6777 50  0000 C CNN
F 2 "" H 5750 6950 50  0001 C CNN
F 3 "" H 5750 6950 50  0001 C CNN
	1    5750 6950
	1    0    0    -1  
$EndComp
Wire Wire Line
	5750 6950 5750 6850
Wire Wire Line
	5750 6550 5750 6350
Connection ~ 5750 6350
Wire Wire Line
	6150 6350 5750 6350
Wire Wire Line
	6150 6550 6150 6350
$Comp
L power:GND #PWR?
U 1 1 5CEE5030
P 6150 6950
AR Path="/5CEE5030" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CEE5030" Ref="#PWR0214"  Part="1" 
F 0 "#PWR0214" H 6150 6700 50  0001 C CNN
F 1 "GND" H 6155 6777 50  0000 C CNN
F 2 "" H 6150 6950 50  0001 C CNN
F 3 "" H 6150 6950 50  0001 C CNN
	1    6150 6950
	1    0    0    -1  
$EndComp
Wire Wire Line
	6150 6950 6150 6850
$Comp
L Device:C C?
U 1 1 5CEE5037
P 6150 6700
AR Path="/5CEE5037" Ref="C?"  Part="1" 
AR Path="/5CEDC1EA/5CEE5037" Ref="C203"  Part="1" 
F 0 "C203" H 6265 6746 50  0000 L CNN
F 1 "1n" H 6265 6655 50  0000 L CNN
F 2 "" H 6188 6550 50  0001 C CNN
F 3 "~" H 6150 6700 50  0001 C CNN
	1    6150 6700
	1    0    0    -1  
$EndComp
Wire Wire Line
	5750 5650 5750 6350
Wire Wire Line
	5150 6350 5750 6350
Wire Wire Line
	7450 3200 7700 3200
Text Label 7450 3200 0    50   ~ 0
TX_EN
Wire Wire Line
	5750 5350 5750 5250
Text Label 5150 6350 0    50   ~ 0
BR_VOLTAGE
Wire Wire Line
	6500 3000 6500 3400
Text Label 4950 3400 0    50   ~ 0
RX_INT
Text Notes 5050 2700 0    50   ~ 0
TCD_WOB
Text Notes 2400 3350 0    50   ~ 0
GPIO
Text HLabel 2950 3100 0    50   Output ~ 0
PWM
Text HLabel 4350 2700 2    50   Output ~ 0
~PWM
Wire Wire Line
	4350 2700 4250 2700
Wire Wire Line
	2950 3100 3050 3100
Text HLabel 2950 3400 0    50   Output ~ 0
BR_EN
Wire Wire Line
	2950 3400 3050 3400
Text HLabel 4350 2900 2    50   Input ~ 0
BR_CURRENT
$Comp
L Device:C C?
U 1 1 5CEEA834
P 8900 5600
AR Path="/5CEEA834" Ref="C?"  Part="1" 
AR Path="/5CEDC1EA/5CEEA834" Ref="C201"  Part="1" 
F 0 "C201" H 9015 5646 50  0000 L CNN
F 1 "100n" H 9015 5555 50  0000 L CNN
F 2 "" H 8938 5450 50  0001 C CNN
F 3 "~" H 8900 5600 50  0001 C CNN
	1    8900 5600
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR?
U 1 1 5CEEA9B6
P 8900 5350
AR Path="/5CEEA9B6" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CEEA9B6" Ref="#PWR0206"  Part="1" 
F 0 "#PWR0206" H 8900 5200 50  0001 C CNN
F 1 "+3V3" H 8915 5523 50  0000 C CNN
F 2 "" H 8900 5350 50  0001 C CNN
F 3 "" H 8900 5350 50  0001 C CNN
	1    8900 5350
	1    0    0    -1  
$EndComp
Wire Wire Line
	8900 5450 8900 5350
$Comp
L power:GND #PWR?
U 1 1 5CEEB4C2
P 8900 5850
AR Path="/5CEEB4C2" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CEEB4C2" Ref="#PWR0207"  Part="1" 
F 0 "#PWR0207" H 8900 5600 50  0001 C CNN
F 1 "GND" H 8905 5677 50  0000 C CNN
F 2 "" H 8900 5850 50  0001 C CNN
F 3 "" H 8900 5850 50  0001 C CNN
	1    8900 5850
	1    0    0    -1  
$EndComp
Wire Wire Line
	8900 5850 8900 5750
$Comp
L Device:C C?
U 1 1 5CEECC25
P 9450 5600
AR Path="/5CEECC25" Ref="C?"  Part="1" 
AR Path="/5CEDC1EA/5CEECC25" Ref="C202"  Part="1" 
F 0 "C202" H 9565 5646 50  0000 L CNN
F 1 "100n" H 9565 5555 50  0000 L CNN
F 2 "" H 9488 5450 50  0001 C CNN
F 3 "~" H 9450 5600 50  0001 C CNN
	1    9450 5600
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR?
U 1 1 5CEECC2C
P 9450 5350
AR Path="/5CEECC2C" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CEECC2C" Ref="#PWR0208"  Part="1" 
F 0 "#PWR0208" H 9450 5200 50  0001 C CNN
F 1 "+3V3" H 9465 5523 50  0000 C CNN
F 2 "" H 9450 5350 50  0001 C CNN
F 3 "" H 9450 5350 50  0001 C CNN
	1    9450 5350
	1    0    0    -1  
$EndComp
Wire Wire Line
	9450 5450 9450 5350
$Comp
L power:GND #PWR?
U 1 1 5CEECC33
P 9450 5850
AR Path="/5CEECC33" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CEECC33" Ref="#PWR0209"  Part="1" 
F 0 "#PWR0209" H 9450 5600 50  0001 C CNN
F 1 "GND" H 9455 5677 50  0000 C CNN
F 2 "" H 9450 5850 50  0001 C CNN
F 3 "" H 9450 5850 50  0001 C CNN
	1    9450 5850
	1    0    0    -1  
$EndComp
Wire Wire Line
	9450 5850 9450 5750
$Comp
L Device:R R?
U 1 1 5CC63A99
P 6500 3650
AR Path="/5CC63A99" Ref="R?"  Part="1" 
AR Path="/5CEDC1EA/5CC63A99" Ref="R208"  Part="1" 
F 0 "R208" H 6570 3696 50  0000 L CNN
F 1 "47k" H 6570 3605 50  0000 L CNN
F 2 "" V 6430 3650 50  0001 C CNN
F 3 "~" H 6500 3650 50  0001 C CNN
	1    6500 3650
	-1   0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5CC63B41
P 7100 3650
AR Path="/5CC63B41" Ref="R?"  Part="1" 
AR Path="/5CEDC1EA/5CC63B41" Ref="R209"  Part="1" 
F 0 "R209" H 7170 3696 50  0000 L CNN
F 1 "47k" H 7170 3605 50  0000 L CNN
F 2 "" V 7030 3650 50  0001 C CNN
F 3 "~" H 7100 3650 50  0001 C CNN
	1    7100 3650
	-1   0    0    -1  
$EndComp
Wire Wire Line
	7100 3500 7100 3300
$Comp
L power:GND #PWR?
U 1 1 5CC67063
P 7100 3900
AR Path="/5CC67063" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CC67063" Ref="#PWR0222"  Part="1" 
F 0 "#PWR0222" H 7100 3650 50  0001 C CNN
F 1 "GND" H 7105 3727 50  0000 C CNN
F 2 "" H 7100 3900 50  0001 C CNN
F 3 "" H 7100 3900 50  0001 C CNN
	1    7100 3900
	-1   0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5CC6708E
P 6500 3900
AR Path="/5CC6708E" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CC6708E" Ref="#PWR0221"  Part="1" 
F 0 "#PWR0221" H 6500 3650 50  0001 C CNN
F 1 "GND" H 6505 3727 50  0000 C CNN
F 2 "" H 6500 3900 50  0001 C CNN
F 3 "" H 6500 3900 50  0001 C CNN
	1    6500 3900
	-1   0    0    -1  
$EndComp
Wire Wire Line
	6500 3800 6500 3900
Wire Wire Line
	7100 3900 7100 3800
Connection ~ 6500 3400
Wire Wire Line
	6500 3400 4250 3400
Connection ~ 7100 3300
Wire Wire Line
	7100 3300 4250 3300
Wire Wire Line
	7700 3300 7100 3300
Text Label 4800 2500 2    50   ~ 0
BR_VOLTAGE
Wire Wire Line
	4800 2500 4250 2500
Wire Wire Line
	4350 2900 4250 2900
Text Notes 4850 2500 0    50   ~ 0
ADC3
Text Notes 5050 2950 0    50   ~ 0
ADC7, AINP0 \n(Compare to VREF)
Text Notes 2150 1850 0    50   ~ 0
VREF = 1.1V (two Motors)\nVREF = 0.55V (one Motor)
Text Notes 2650 3150 2    50   ~ 0
TCD_WOC
$Comp
L Connector:Conn_01x02_Male J203
U 1 1 5CD52390
P 7600 5300
F 0 "J203" H 7706 5478 50  0000 C CNN
F 1 "UPDI" H 7706 5387 50  0000 C CNN
F 2 "" H 7600 5300 50  0001 C CNN
F 3 "~" H 7600 5300 50  0001 C CNN
	1    7600 5300
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5CD52626
P 7900 5500
AR Path="/5CD52626" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CD52626" Ref="#PWR0223"  Part="1" 
F 0 "#PWR0223" H 7900 5250 50  0001 C CNN
F 1 "GND" H 7905 5327 50  0000 C CNN
F 2 "" H 7900 5500 50  0001 C CNN
F 3 "" H 7900 5500 50  0001 C CNN
	1    7900 5500
	1    0    0    -1  
$EndComp
Wire Wire Line
	7900 5500 7900 5400
Wire Wire Line
	7900 5400 7800 5400
Text Label 8150 5300 2    50   ~ 0
~RESET
Wire Wire Line
	8150 5300 7800 5300
Text Notes 2400 3450 0    50   ~ 0
GPIO
$Comp
L Connector:Conn_01x02_Male J?
U 1 1 5CD76604
P 8900 3100
AR Path="/5CD76604" Ref="J?"  Part="1" 
AR Path="/5CEDC1EA/5CD76604" Ref="J204"  Part="1" 
F 0 "J204" H 9006 3278 50  0000 C CNN
F 1 "Bus" H 9006 3187 50  0000 C CNN
F 2 "" H 8900 3100 50  0001 C CNN
F 3 "~" H 8900 3100 50  0001 C CNN
	1    8900 3100
	-1   0    0    1   
$EndComp
Wire Wire Line
	4700 2200 4700 2000
Wire Wire Line
	4700 2200 4250 2200
Wire Wire Line
	6350 1900 6350 2000
Wire Wire Line
	4700 2000 6350 2000
Connection ~ 6350 2000
Wire Wire Line
	6350 2000 6350 2100
$Comp
L Connector:Conn_01x04_Male J201
U 1 1 5CDB69EF
P 4500 6000
F 0 "J201" H 4606 6278 50  0000 C CNN
F 1 "Encoder" H 4606 6187 50  0000 C CNN
F 2 "" H 4500 6000 50  0001 C CNN
F 3 "~" H 4500 6000 50  0001 C CNN
	1    4500 6000
	-1   0    0    -1  
$EndComp
Wire Wire Line
	4300 5900 4200 5900
Wire Wire Line
	4200 5900 4200 5400
Wire Wire Line
	4300 6000 3900 6000
Wire Wire Line
	3900 6000 3900 5900
$Comp
L power:GND #PWR?
U 1 1 5CDB69FA
P 4200 6300
AR Path="/5CDB69FA" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CDB69FA" Ref="#PWR0217"  Part="1" 
F 0 "#PWR0217" H 4200 6050 50  0001 C CNN
F 1 "GND" H 4205 6127 50  0000 C CNN
F 2 "" H 4200 6300 50  0001 C CNN
F 3 "" H 4200 6300 50  0001 C CNN
	1    4200 6300
	-1   0    0    -1  
$EndComp
Wire Wire Line
	4200 6300 4200 6200
Wire Wire Line
	4200 6200 4300 6200
Connection ~ 3900 6000
Wire Wire Line
	3500 6100 4300 6100
$Comp
L power:+12V #PWR0216
U 1 1 5CDBB9D5
P 4200 5400
F 0 "#PWR0216" H 4200 5250 50  0001 C CNN
F 1 "+12V" H 4215 5573 50  0000 C CNN
F 2 "" H 4200 5400 50  0001 C CNN
F 3 "" H 4200 5400 50  0001 C CNN
	1    4200 5400
	-1   0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5CDBB9DB
P 3900 5750
AR Path="/5CDBB9DB" Ref="R?"  Part="1" 
AR Path="/5CEDC1EA/5CDBB9DB" Ref="R207"  Part="1" 
F 0 "R207" H 3970 5796 50  0000 L CNN
F 1 "4k7" H 3970 5705 50  0000 L CNN
F 2 "" V 3830 5750 50  0001 C CNN
F 3 "~" H 3900 5750 50  0001 C CNN
	1    3900 5750
	-1   0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5CDBB9E2
P 3500 5750
AR Path="/5CDBB9E2" Ref="R?"  Part="1" 
AR Path="/5CEDC1EA/5CDBB9E2" Ref="R205"  Part="1" 
F 0 "R205" H 3570 5796 50  0000 L CNN
F 1 "4k7" H 3570 5705 50  0000 L CNN
F 2 "" V 3430 5750 50  0001 C CNN
F 3 "~" H 3500 5750 50  0001 C CNN
	1    3500 5750
	-1   0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR?
U 1 1 5CDBB9E9
P 3700 5400
AR Path="/5CDBB9E9" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CDBB9E9" Ref="#PWR0215"  Part="1" 
F 0 "#PWR0215" H 3700 5250 50  0001 C CNN
F 1 "+3V3" H 3715 5573 50  0000 C CNN
F 2 "" H 3700 5400 50  0001 C CNN
F 3 "" H 3700 5400 50  0001 C CNN
	1    3700 5400
	-1   0    0    -1  
$EndComp
Wire Wire Line
	3700 5500 3900 5500
Wire Wire Line
	3900 5500 3900 5600
Wire Wire Line
	3700 5400 3700 5500
Wire Wire Line
	3700 5500 3500 5500
Wire Wire Line
	3500 5500 3500 5600
Connection ~ 3700 5500
Wire Wire Line
	3500 5900 3500 6100
Connection ~ 3500 6100
Wire Wire Line
	4250 2300 4800 2300
Text Label 4650 3500 2    50   ~ 0
ROT_B
Wire Wire Line
	4250 3500 4650 3500
Text Label 900  5450 0    50   ~ 0
ROT_A_EDGE
Text Label 2950 6100 0    50   ~ 0
ROT_B
Text Notes 5050 3500 0    50   ~ 0
EV_ASYNCCH1
$Comp
L 74xGxx:74AHC1G86 U202
U 1 1 5CDC8343
P 1700 5450
F 0 "U202" H 1675 5717 50  0000 C CNN
F 1 "74AHC1G86" H 1675 5626 50  0000 C CNN
F 2 "" H 1700 5450 50  0001 C CNN
F 3 "http://www.ti.com/lit/sg/scyt129e/scyt129e.pdf" H 1700 5450 50  0001 C CNN
	1    1700 5450
	-1   0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5CDC9CCA
P 2350 5500
AR Path="/5CDC9CCA" Ref="R?"  Part="1" 
AR Path="/5CEDC1EA/5CDC9CCA" Ref="R201"  Part="1" 
F 0 "R201" H 2420 5546 50  0000 L CNN
F 1 "100k" H 2420 5455 50  0000 L CNN
F 2 "" V 2280 5500 50  0001 C CNN
F 3 "~" H 2350 5500 50  0001 C CNN
	1    2350 5500
	0    1    -1   0   
$EndComp
$Comp
L Device:C C?
U 1 1 5CDC9DBE
P 2100 5750
AR Path="/5CDC9DBE" Ref="C?"  Part="1" 
AR Path="/5CEDC1EA/5CDC9DBE" Ref="C204"  Part="1" 
F 0 "C204" H 2215 5796 50  0000 L CNN
F 1 "100p" H 2215 5705 50  0000 L CNN
F 2 "" H 2138 5600 50  0001 C CNN
F 3 "~" H 2100 5750 50  0001 C CNN
	1    2100 5750
	1    0    0    -1  
$EndComp
Wire Wire Line
	2500 5500 2600 5500
Wire Wire Line
	2100 5600 2100 5500
Wire Wire Line
	2100 5500 2200 5500
$Comp
L power:GND #PWR?
U 1 1 5CDCCD41
P 2100 6000
AR Path="/5CDCCD41" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CDCCD41" Ref="#PWR0201"  Part="1" 
F 0 "#PWR0201" H 2100 5750 50  0001 C CNN
F 1 "GND" H 2105 5827 50  0000 C CNN
F 2 "" H 2100 6000 50  0001 C CNN
F 3 "" H 2100 6000 50  0001 C CNN
	1    2100 6000
	1    0    0    -1  
$EndComp
Wire Wire Line
	2100 6000 2100 5900
Wire Wire Line
	2000 5500 2100 5500
Connection ~ 2100 5500
Wire Wire Line
	2000 5400 2100 5400
Wire Wire Line
	2100 5400 2100 5150
Wire Wire Line
	2100 5150 2600 5150
Wire Wire Line
	2600 5150 2600 5500
Connection ~ 2600 5500
Wire Wire Line
	900  5450 1450 5450
Text Label 2950 6000 0    50   ~ 0
ROT_A
Text Label 900  6600 0    50   ~ 0
ROT_B_EDGE
$Comp
L 74xGxx:74AHC1G86 U203
U 1 1 5CDD3B69
P 1700 6600
F 0 "U203" H 1675 6867 50  0000 C CNN
F 1 "74AHC1G86" H 1675 6776 50  0000 C CNN
F 2 "" H 1700 6600 50  0001 C CNN
F 3 "http://www.ti.com/lit/sg/scyt129e/scyt129e.pdf" H 1700 6600 50  0001 C CNN
	1    1700 6600
	-1   0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5CDD3B70
P 2350 6650
AR Path="/5CDD3B70" Ref="R?"  Part="1" 
AR Path="/5CEDC1EA/5CDD3B70" Ref="R204"  Part="1" 
F 0 "R204" H 2420 6696 50  0000 L CNN
F 1 "100k" H 2420 6605 50  0000 L CNN
F 2 "" V 2280 6650 50  0001 C CNN
F 3 "~" H 2350 6650 50  0001 C CNN
	1    2350 6650
	0    1    -1   0   
$EndComp
$Comp
L Device:C C?
U 1 1 5CDD3B77
P 2100 6900
AR Path="/5CDD3B77" Ref="C?"  Part="1" 
AR Path="/5CEDC1EA/5CDD3B77" Ref="C206"  Part="1" 
F 0 "C206" H 2215 6946 50  0000 L CNN
F 1 "100p" H 2215 6855 50  0000 L CNN
F 2 "" H 2138 6750 50  0001 C CNN
F 3 "~" H 2100 6900 50  0001 C CNN
	1    2100 6900
	1    0    0    -1  
$EndComp
Wire Wire Line
	2500 6650 2600 6650
Wire Wire Line
	2100 6750 2100 6650
Wire Wire Line
	2100 6650 2200 6650
$Comp
L power:GND #PWR?
U 1 1 5CDD3B81
P 2100 7150
AR Path="/5CDD3B81" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CDD3B81" Ref="#PWR0202"  Part="1" 
F 0 "#PWR0202" H 2100 6900 50  0001 C CNN
F 1 "GND" H 2105 6977 50  0000 C CNN
F 2 "" H 2100 7150 50  0001 C CNN
F 3 "" H 2100 7150 50  0001 C CNN
	1    2100 7150
	1    0    0    -1  
$EndComp
Wire Wire Line
	2100 7150 2100 7050
Wire Wire Line
	2000 6650 2100 6650
Connection ~ 2100 6650
Wire Wire Line
	2000 6550 2100 6550
Wire Wire Line
	2100 6550 2100 6300
Wire Wire Line
	2100 6300 2600 6300
Wire Wire Line
	2600 6300 2600 6650
Wire Wire Line
	900  6600 1450 6600
Wire Wire Line
	2600 6300 2600 6100
Wire Wire Line
	2600 6100 3500 6100
Connection ~ 2600 6300
Wire Wire Line
	2600 5500 2600 6000
Wire Wire Line
	2600 6000 3900 6000
Text Label 4800 2300 2    50   ~ 0
ROT_A_EDGE
Text Label 4800 2400 2    50   ~ 0
ROT_B_EDGE
Wire Wire Line
	4800 2400 4250 2400
Text Label 4650 2800 2    50   ~ 0
ROT_A
Wire Wire Line
	4250 2800 4650 2800
Text Notes 5050 2800 0    50   ~ 0
EV_ASYNCCH0
$Comp
L MCU_Microchip_ATtiny:ATtiny416-M U204
U 1 1 5CDAC937
P 3650 2900
F 0 "U204" H 3900 3900 50  0000 C CNN
F 1 "ATtiny416-M" H 3950 3800 50  0000 C CNN
F 2 "Package_DFN_QFN:VQFN-20-1EP_3x3mm_P0.4mm_EP1.7x1.7mm" H 3650 2900 50  0001 C CIN
F 3 "http://ww1.microchip.com/downloads/en/DeviceDoc/40001913A.pdf" H 3650 2900 50  0001 C CNN
	1    3650 2900
	1    0    0    -1  
$EndComp
$Comp
L Connector:TestPoint TP203
U 1 1 5CE1EA51
P 5350 2350
F 0 "TP203" H 5408 2470 50  0000 L CNN
F 1 "ROT_CNT" H 5408 2379 50  0000 L CNN
F 2 "" H 5550 2350 50  0001 C CNN
F 3 "~" H 5550 2350 50  0001 C CNN
	1    5350 2350
	1    0    0    -1  
$EndComp
Wire Wire Line
	4250 2600 5350 2600
Wire Wire Line
	5350 2600 5350 2350
$Comp
L Connector:TestPoint TP201
U 1 1 5CE2157F
P 2150 3200
F 0 "TP201" V 2345 3274 50  0000 C CNN
F 1 "ROT_DIR" V 2254 3274 50  0000 C CNN
F 2 "" H 2350 3200 50  0001 C CNN
F 3 "~" H 2350 3200 50  0001 C CNN
	1    2150 3200
	0    -1   -1   0   
$EndComp
Wire Wire Line
	6500 3400 6500 3500
Text Notes 4850 2300 0    50   ~ 0
LUT0-IN1
Text Notes 4850 2400 0    50   ~ 0
LUT0-IN2
$Comp
L Connector:TestPoint TP202
U 1 1 5CE2B7D7
P 4650 3600
F 0 "TP202" V 4604 3788 50  0000 L CNN
F 1 "CLK_OUT" V 4695 3788 50  0000 L CNN
F 2 "" H 4850 3600 50  0001 C CNN
F 3 "~" H 4850 3600 50  0001 C CNN
	1    4650 3600
	0    1    1    0   
$EndComp
Wire Wire Line
	4250 3600 4650 3600
Wire Wire Line
	2150 3200 3050 3200
Text Notes 1350 3300 0    50   ~ 0
Need to set \nLUT1 in CTRLA
$Comp
L Connector:Conn_01x03_Male J202
U 1 1 5CE3CF17
P 5100 4300
F 0 "J202" H 5073 4323 50  0000 R CNN
F 1 "GPIO" H 5073 4232 50  0000 R CNN
F 2 "" H 5100 4300 50  0001 C CNN
F 3 "~" H 5100 4300 50  0001 C CNN
	1    5100 4300
	-1   0    0    -1  
$EndComp
Text Label 4800 3100 2    50   ~ 0
GPIO_B0
Wire Wire Line
	4800 3100 4250 3100
Text Label 4800 3200 2    50   ~ 0
GPIO_B1
Wire Wire Line
	4800 3200 4250 3200
Text Label 4350 4200 0    50   ~ 0
GPIO_B0
Wire Wire Line
	4350 4200 4900 4200
Text Label 4350 4300 0    50   ~ 0
GPIO_B1
Wire Wire Line
	4350 4300 4900 4300
$Comp
L power:GND #PWR?
U 1 1 5CE51214
P 4800 4500
AR Path="/5CE51214" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CE51214" Ref="#PWR0220"  Part="1" 
F 0 "#PWR0220" H 4800 4250 50  0001 C CNN
F 1 "GND" H 4805 4327 50  0000 C CNN
F 2 "" H 4800 4500 50  0001 C CNN
F 3 "" H 4800 4500 50  0001 C CNN
	1    4800 4500
	1    0    0    -1  
$EndComp
Wire Wire Line
	4800 4500 4800 4400
Wire Wire Line
	4800 4400 4900 4400
Text Notes 1900 5000 0    50   ~ 0
1ms edge detection \npulse generator
$Comp
L Device:C C?
U 1 1 5CE58B5C
P 9950 5600
AR Path="/5CE58B5C" Ref="C?"  Part="1" 
AR Path="/5CEDC1EA/5CE58B5C" Ref="C207"  Part="1" 
F 0 "C207" H 10065 5646 50  0000 L CNN
F 1 "100n" H 10065 5555 50  0000 L CNN
F 2 "" H 9988 5450 50  0001 C CNN
F 3 "~" H 9950 5600 50  0001 C CNN
	1    9950 5600
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR?
U 1 1 5CE58B63
P 9950 5350
AR Path="/5CE58B63" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CE58B63" Ref="#PWR0224"  Part="1" 
F 0 "#PWR0224" H 9950 5200 50  0001 C CNN
F 1 "+3V3" H 9965 5523 50  0000 C CNN
F 2 "" H 9950 5350 50  0001 C CNN
F 3 "" H 9950 5350 50  0001 C CNN
	1    9950 5350
	1    0    0    -1  
$EndComp
Wire Wire Line
	9950 5450 9950 5350
$Comp
L power:GND #PWR?
U 1 1 5CE58B6A
P 9950 5850
AR Path="/5CE58B6A" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CE58B6A" Ref="#PWR0225"  Part="1" 
F 0 "#PWR0225" H 9950 5600 50  0001 C CNN
F 1 "GND" H 9955 5677 50  0000 C CNN
F 2 "" H 9950 5850 50  0001 C CNN
F 3 "" H 9950 5850 50  0001 C CNN
	1    9950 5850
	1    0    0    -1  
$EndComp
Wire Wire Line
	9950 5850 9950 5750
$Comp
L Device:C C?
U 1 1 5CE58B71
P 10500 5600
AR Path="/5CE58B71" Ref="C?"  Part="1" 
AR Path="/5CEDC1EA/5CE58B71" Ref="C208"  Part="1" 
F 0 "C208" H 10615 5646 50  0000 L CNN
F 1 "100n" H 10615 5555 50  0000 L CNN
F 2 "" H 10538 5450 50  0001 C CNN
F 3 "~" H 10500 5600 50  0001 C CNN
	1    10500 5600
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR?
U 1 1 5CE58B78
P 10500 5350
AR Path="/5CE58B78" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CE58B78" Ref="#PWR0226"  Part="1" 
F 0 "#PWR0226" H 10500 5200 50  0001 C CNN
F 1 "+3V3" H 10515 5523 50  0000 C CNN
F 2 "" H 10500 5350 50  0001 C CNN
F 3 "" H 10500 5350 50  0001 C CNN
	1    10500 5350
	1    0    0    -1  
$EndComp
Wire Wire Line
	10500 5450 10500 5350
$Comp
L power:GND #PWR?
U 1 1 5CE58B7F
P 10500 5850
AR Path="/5CE58B7F" Ref="#PWR?"  Part="1" 
AR Path="/5CEDC1EA/5CE58B7F" Ref="#PWR0227"  Part="1" 
F 0 "#PWR0227" H 10500 5600 50  0001 C CNN
F 1 "GND" H 10505 5677 50  0000 C CNN
F 2 "" H 10500 5850 50  0001 C CNN
F 3 "" H 10500 5850 50  0001 C CNN
	1    10500 5850
	1    0    0    -1  
$EndComp
Wire Wire Line
	10500 5850 10500 5750
Text Notes 7100 6700 0    50   ~ 0
http://ww1.microchip.com/downloads/en/AppNotes/00002434A.pdf
$EndSCHEMATC
